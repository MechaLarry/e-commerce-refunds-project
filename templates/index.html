<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E-Commerce Store - Returns & Refunds System</title>
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
    <header>
        <nav>
            <div class="logo">üõçÔ∏è E-Commerce Store</div>
            <ul class="nav-links">
                <li><a href="/">Home</a></li>
                <li><a href="#" onclick="viewCart()">Cart <span id="cart-count" style="display: none; background: #667eea; color: white; padding: 2px 6px; border-radius: 10px; font-size: 0.8rem;">0</span></a></li>
                <li id="auth-links">
                    <a href="login.html">Login</a>
                    <a href="register.html">Register</a>
                </li>
                <li id="user-links" style="display: none;">
                    <a href="customer-dashboard.html">Dashboard</a>
                    <a href="#" onclick="logout()">Logout</a>
                </li>
            </ul>
        </nav>
    </header>

    <div class="container">
        <div class="card">
            <h1 class="card-header">Welcome to Our Store</h1>
            <p>Browse our products and shop with confidence. Our automated returns and refunds system ensures a seamless experience.</p>
        </div>

        <div class="card">
            <h2 class="card-header">Products</h2>
            <div id="products-container" class="products-grid">
                <div class="spinner"></div>
            </div>
        </div>
    </div>

    <!-- Cart Modal -->
    <div id="cart-modal" class="modal" onclick="if(event.target.id === 'cart-modal') closeModal('cart-modal')">
        <div class="modal-content cart-modal-content">
            <div class="modal-header">
                <h2 style="margin: 0;">üõí Shopping Cart</h2>
                <span class="close" onclick="closeModal('cart-modal')">&times;</span>
            </div>
            <div id="cart-items-container" style="max-height: 400px; overflow-y: auto; margin: 1rem 0;">
                <table class="table" style="margin: 0;">
                    <thead>
                        <tr>
                            <th style="width: 40%;">Product</th>
                            <th style="width: 15%; text-align: center;">Price</th>
                            <th style="width: 15%; text-align: center;">Qty</th>
                            <th style="width: 15%; text-align: right;">Total</th>
                            <th style="width: 15%; text-align: center;">Action</th>
                        </tr>
                    </thead>
                    <tbody id="cart-items">
                    </tbody>
                </table>
            </div>
            <div style="border-top: 2px solid #e0e0e0; padding-top: 1rem; margin-top: 1rem;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                    <span style="font-size: 1.1rem; font-weight: 600;">Subtotal:</span>
                    <span style="font-size: 1.5rem; font-weight: bold; color: #667eea;" id="cart-total">$0.00</span>
                </div>
                <button class="btn btn-primary" onclick="checkout()" style="width: 100%; padding: 1rem; font-size: 1.1rem; font-weight: 600;">
                    Proceed to Checkout ‚Üí
                </button>
            </div>
        </div>
    </div>

    <script src="/static/js/auth.js"></script>
    <script src="/static/js/store.js"></script>
    <script>
        // Update UI based on auth status
        document.addEventListener('DOMContentLoaded', () => {
            if (isAuthenticated()) {
                document.getElementById('auth-links').style.display = 'none';
                document.getElementById('user-links').style.display = 'flex';
            } else {
                document.getElementById('auth-links').style.display = 'flex';
                document.getElementById('user-links').style.display = 'none';
            }
        });
    </script>
</body>
</html>

